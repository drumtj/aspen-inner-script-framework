var $=(function(){this["VERSION"]="0.17";if(window.apn$){return window.apn$}var G="undefined";function x(J,H,I){if(typeof H===G){return wgt.get(this.id,J)}else{wgt.set(this.id,J,H,I);return this}}function u(){return{x:this.attr("x"),y:this.attr("y"),width:this.attr("w"),height:this.attr("h"),contains:function(H){return w.call(null,this,H)}}}function F(I,H){var J=file.get("__DATA__");if(J===""){J={}}if(typeof J[this.id]===G){J[this.id]={}}if(typeof H===G){return J[this.id][I]}else{J[this.id][I]=H;file.set("__DATA__",J);return this}}function E(H){if(typeof H===G){return{x:this.attr("x"),y:this.attr("y")}}else{for(var I in H){if(I=="x"||I=="left"){this.attr("x",H[I])}else{if(I=="y"||I=="top"){this.attr("y",H[I])}}}}return this}function l(){return{x:this.attr("x")+this.attr("w")*0.5,y:this.attr("y")+this.attr("h")*0.5}}function t(H){if(typeof H===G){return this.attr("h")}else{this.attr("h",H);return this}}function v(H){if(typeof H===G){return this.attr("w")}else{this.attr("w",H);return this}}function f(){if(arguments.length==0){this.attr("dragAll",true)}else{if(arguments[0]===true){this.attr("dragAll",true)}else{if(arguments[0]===false){this.attr("dragAll",false)}else{if(arguments[0].x===arguments[0].y){this.attr("dragAll",arguments[0].x)}else{this.attr("dragX",arguments[0].x);this.attr("dragY",arguments[0].y)}}}}return this}function C(L,I){var J=g(null,{id:wgt.clone(this.id,((typeof L==="string"||typeof L===G)?L:L.id),I)});var H=wgt.get(J.id,"label");if(H&&H!==""){wgt.set(J.id,"label",H+"_clone"+(Date.now()%1000000))}J.list=this.list;var K=file.get("__DATA__");if(K===""){K={}}if(typeof K[this.id]===G){K[this.id]={}}K[J.id]=JSON.parse(JSON.stringify(K[this.id]));file.set("__DATA__",K);return J}var b={easing:"linear",delay:0,roundtrip:false};function D(H){var J=H||{};for(var I in b){if(typeof J[I]===G){J[I]=b[I]}}return J}function a(H,J,I){if(!H){consoleLog("[moveToTarget error] targetId is "+(typeof H));return this}if(typeof H==="string"){H=g(H);if(!H.id){consoleLog("[moveToTarget error] target id is "+H.id);return this}}var K;if(I&&I.center){K=H.getCenterPosition()}else{K=H.position()}this.moveTo(K,J,I);return this}function p(){var H,L,J,I;if(typeof arguments[0]==="object"){H=arguments[0].x;L=arguments[0].y;J=arguments[1];I=arguments[2]}else{H=arguments[0];L=arguments[1];J=arguments[2];I=arguments[3]}if(typeof J===G){J=400}var K=D(I);wgt.moveTo(this.id,H,L,K.delay,K.easing+" "+J+"ms"+(K.roundtrip?" roundTrip":""),K.tracePath);return this}function d(I,H,K,J){if(typeof K===G){K=400}var L=D(J);wgt.moveBy(this.id,I,H,L.delay,L.easing+" "+K+"ms"+(L.roundtrip?" roundTrip":""),L.tracePath);return this}function e(H,J,K,I){if(typeof K===G){K=400}var L=D(I);wgt.sizeTo(this.id,H,J,L.delay,L.easing+" "+K+"ms"+(L.roundtrip?" roundTrip":""));return this}function B(H,K,J,L,I){if(typeof L===G){L=400}var M=D(I);wgt.sizeBy(this.id,H,K,J,M.delay,M.easing+" "+L+"ms"+(M.roundtrip?" roundTrip":""));return this}function i(I,J,H){if(typeof J===G){J=400}var K=D(H);wgt.rotateTo(this.id,I,K.delay,K.easing+" "+J+"ms"+(K.roundtrip?" roundTrip":""));return this}function k(I,J,H){if(typeof J===G){J=400}var K=D(H);wgt.opacityTo(this.id,I,K.delay,K.easing+" "+J+"ms"+(K.roundtrip?" roundTrip":""));return this}function s(H,I){wgt.zIndexTo(this.id,H,I);return this}function o(H,J,L,K,I){if(typeof K===G){K=400}var M=D(I);wgt.sizeByContent(this.id,H,J,L,M.delay,M.easing+" "+K+"ms"+(M.roundtrip?" roundTrip":""));return this}function m(H){return wgt.getLayer(this.id,H)}function n(){var N,M,J,I,K,H;if(typeof arguments[0]==="object"){N=arguments[0].x;M=arguments[0].y;J=arguments[1].x;I=arguments[1].y;K=arguments[2];H=arguments[3]}else{N=arguments[0];M=arguments[1];J=arguments[2];I=arguments[3];K=arguments[4];H=arguments[5]}if(typeof K===G){K=400}var L=D(H);wgt.lineTo(this.id,N,M,J,I,L.delay,L.easing+" "+K+"ms"+(L.roundtrip?" roundTrip":""));return this}function r(I,H,K,J){if(typeof K===G){K=400}var L=D(J);wgt.zoomTo(this.id,I*100+"%",H*100+"%",L.delay,L.easing+" "+K+"ms"+(L.roundtrip?" roundTrip":""));return this}function j(I,J,H){var K=D(H);if(typeof J!==G){J=K.easing+" "+J+"ms"+(K.roundtrip?" roundTrip":"")}wgt.changeState(this.id,I,K.delay,K.effect,J);return this}function w(I,H){return(H.x>=I.x&&H.x<=I.x+I.width&&H.y>=I.y&&H.y<=I.y+I.height)}function c(H){if(typeof H===G){return this.attr("visibility")}this.attr("visibility",H?"visible":"hidden");return this}function y(){if(this.list.length){var H=[];for(var I in this.list){H.push(this.list[I].id)}return H.join()}else{return this.id}}function h(H){return typeof H===G}function A(){var H=[],J=[];for(var I=0;I<arguments.length;I++){if(typeof arguments[I]==="object"){J.push(JSON.stringify(arguments[I]))}else{J.push(arguments[I])}}consoleLog(J.join(" "))}function z(H){return H.replace(/^ +/,"").replace(/ +$/,"")}var q={};var g=function(M,K){if(typeof M==="object"&&M&&M.getCenterPosition){return M}var J,P=[],O;if(M==null){if(K&&K.id){J=K.id;P="self"}else{J=getWidget()}}else{if(M){if(M.indexOf(",")>-1){var I=M.split(",");for(var N in I){I[N]=g(I[N].replace(/^ +/,"").replace(/ +$/,""))}J=null;P=I}else{O=getWidget(M);if(O.indexOf(",")==-1){J=O;P="self"}else{O=O.split(",");for(var L in O){O[L]=g(null,{id:O[L]})}J=null;P=O}}}}if(J&&q[J]){return q[J]}var H={id:J,attr:function(){return x.apply(this,arguments)},getRect:function(){return u.apply(this,arguments)},data:function(){return F.apply(this,arguments)},position:function(){return E.apply(this,arguments)},width:function(){return v.apply(this,arguments)},height:function(){return t.apply(this,arguments)},draggable:function(){return f.apply(this,arguments)},clone:function(){return C.apply(this,arguments)},moveTo:function(){return p.apply(this,arguments)},moveBy:function(){return d.apply(this,arguments)},sizeTo:function(){return e.apply(this,arguments)},sizeBy:function(){return B.apply(this,arguments)},opacityTo:function(){return k.apply(this,arguments)},rotateTo:function(){return i.apply(this,arguments)},changeState:function(){return j.apply(this,arguments)},getCenterPosition:function(){return l.apply(this,arguments)},lineTo:function(){return n.apply(this,arguments)},zoomTo:function(){return r.apply(this,arguments)},visible:function(){return c.apply(this,arguments)},toString:function(){return y.call(this)},moveToTarget:function(){return a.apply(this,arguments)},zIndexTo:function(){return s.apply(this,arguments)},sizeByContent:function(){return o.apply(this,arguments)},getLayer:function(){return m.apply(this,arguments)}};q[J]=H;if(P==="self"){H.list=[H]}else{H.list=P}return H};g.id="global";g.version=VERSION;g.data=function(){return F.apply(this,arguments)};g.isUndef=function(){return h.apply(this,arguments)};g.trace=function(){return A.apply(this,arguments)};g.trim=function(){return z.apply(this,arguments)};window.apn$=g;return g})();