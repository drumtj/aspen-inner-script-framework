var $=(function(){this["VERSION"]="0.4";var v="undefined";function p(x,w){if(typeof w===v){return wgt.get(this.id,x)}else{wgt.set(this.id,x,w);return this}}function n(){return{x:this.attr("x"),y:this.attr("y"),width:this.attr("w"),height:this.attr("h")}}function u(x,w){if(typeof w===v){var y=get(this.id+"_"+x);if(y===""){return null}return JSON.parse(y)}else{set(this.id+"_"+x,JSON.stringify(w));return this}}function t(w){if(typeof w===v){return{x:this.attr("x"),y:this.attr("y")}}else{for(var x in w){if(x=="x"||x=="left"){this.attr("x",w[x])}else{if(x=="y"||x=="top"){this.attr("y",w[x])}}}}return this}function i(){return{x:this.attr("x")+this.attr("w")*0.5,y:this.attr("y")+this.attr("h")*0.5}}function m(w){if(typeof w===v){return this.attr("h")}else{this.attr("h",w);return this}}function o(w){if(typeof w===v){return this.attr("w")}else{this.attr("w",w);return this}}function e(){if(arguments.length==0){this.attr("dragX",true).attr("dragY",true)}else{if(arguments[0]===false){this.attr("dragX",false).attr("dragY",false)}else{if(typeof arguments[0].x==="boolean"){this.attr("dragX",arguments[0].x)}if(typeof arguments[0].y==="boolean"){this.attr("dragX",arguments[0].y)}}}return this}function r(){var x=f("__clone__");x.id=wgt.clone(this.id);var w=wgt.get(x.id,"label");if(w&&w!==""){wgt.set(x.id,"label",w+"_clone"+(Date.now()%1000000))}return x}var a={easing:"linear",delay:0,roundtrip:false,};function s(w){var y=w||{};for(var x in a){if(typeof y[x]===v){y[x]=a[x]}}return y}function k(){var w,C,A,z;if(typeof arguments[0]==="object"){w=arguments[0].x;C=arguments[0].y;A=arguments[1];z=arguments[2]}else{w=arguments[1];C=arguments[2];A=arguments[3];z=arguments[4]}if(typeof A===v){A=400}var B=s(z);wgt.moveTo(this.id,w,C,B.delay,B.easing+" "+A+"ms"+(B.roundtrip?" roundTrip":""),B.tracePath);return this}function c(x,w,z,y){if(typeof z===v){z=400}var A=s(y);wgt.moveBy(this.id,x,w,A.delay,A.easing+" "+z+"ms"+(A.roundtrip?" roundTrip":""),A.tracePath);return this}function d(x,z,A,y){if(typeof A===v){A=400}var B=s(y);wgt.sizeTo(this.id,x,z,B.delay,B.easing+" "+A+"ms"+(B.roundtrip?" roundTrip":""));return this}function q(w,y,z,x){if(typeof z===v){z=400}var A=s(x);wgt.sizeBy(this.id,w,y,A.delay,A.easing+" "+z+"ms"+(A.roundtrip?" roundTrip":""));return this}function g(x,y,w){if(typeof y===v){y=400}var z=s(w);wgt.rotateTo(this.id,x,z.delay,z.easing+" "+y+"ms"+(z.roundtrip?" roundTrip":""));return this}function h(x,y,w){if(typeof y===v){y=400}var z=s(w);wgt.opacityTo(this.id,x,z.delay,z.easing+" "+y+"ms"+(z.roundtrip?" roundTrip":""));return this}function j(){var C,B,y,x,z,w;if(typeof arguments[0]==="object"){C=arguments[0].x;B=arguments[0].y;y=arguments[1].x;x=arguments[1].y;z=arguments[2];w=arguments[3]}else{C=arguments[0];B=arguments[1];y=arguments[2];x=arguments[3];z=arguments[4];w=arguments[5]}if(typeof z===v){z=400}var A=s(w);wgt.lineTo(this.id,C,B,y,x,A.delay,A.easing+" "+z+"ms"+(A.roundtrip?" roundTrip":""));return this}function l(x,w,z,y){if(typeof z===v){z=400}var A=s(y);wgt.zoomTo(this.id,x*100+"%",w*100+"%",A.delay,A.easing+" "+z+"ms"+(A.roundtrip?" roundTrip":""));return this}function b(x,y,w){var z=s(w);if(typeof y!==v){y=z.easing+" "+y+"ms"+(z.roundtrip?" roundTrip":"")}wgt.changeState(this.id,x,z.effect,y);return this}var f=function(w){return{id:(function(){if(w=="__clone__"){return null}var x=getWidget(w);if(typeof x==="string"){return x}else{return x[0]}})(),attr:function(){return p.apply(this,arguments)},getRect:function(){return n.apply(this,arguments)},data:function(){return u.apply(this,arguments)},position:function(){return t.apply(this,arguments)},width:function(){return o.apply(this,arguments)},height:function(){return m.apply(this,arguments)},draggable:function(){return e.apply(this,arguments)},clone:function(){return r.apply(this,arguments)},moveTo:function(){return k.apply(this,arguments)},moveBy:function(){return c.apply(this,arguments)},sizeTo:function(){return d.apply(this,arguments)},sizeBy:function(){return q.apply(this,arguments)},opacityTo:function(){return h.apply(this,arguments)},rotateTo:function(){return g.apply(this,arguments)},changeState:function(){return changeState.apply(this,arguments)},getCenterPosition:function(){return i.apply(this,arguments)},lineTo:function(){return j.apply(this,arguments)},zoomTo:function(){return l.apply(this,arguments)}}};f.id="global";f.version=VERSION;f.data=function(){return u.apply(this,arguments)};return f})();